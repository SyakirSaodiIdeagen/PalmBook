<div class="top-bar">
  <button mat-button color="primary" class="logout-btn" (click)="logout()">Sign out</button>
</div>

<!-- Search Box -->
<div class="search-container" [ngClass]="{'search-top': searched}">
  <div class="search-bar">
    <input type="text" matInput [(ngModel)]="query" placeholder="Search" (keyup.enter)="search()">
  </div>
</div>

<!-- Table inside a Card -->
<div *ngIf="searched" class="table-container">
  <mat-card appearance="outlined" class="custom-card">
    <mat-card-content>
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

        <!-- File Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> File Name </th>
          <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
        </ng-container>

        <!-- Created Column -->
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Created </th>
          <td mat-cell *matCellDef="let element"> {{element.createdDateTime}} </td>
        </ng-container>

        <!-- Last Update Column -->
        <ng-container matColumnDef="source">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Update </th>
          <td mat-cell *matCellDef="let element"> {{element.lastModifiedDateTime}} </td>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let file">
            <a mat-button color="accent" [href]="file.webUrl" download>Download</a>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
